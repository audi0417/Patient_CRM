# 🎯 預約拖曳功能快速指南

## ✨ 新功能特性

### 📅 日期單元格升級
- 高度從 140px → 200px（增加 43%）
- 支援更多預約顯示
- 自動垂直捲動（內容超過時）

### 📌 預約卡片信息更豐富
顯示以下資訊：
- ⏰ **時間**：14:30
- 👤 **患者名稱**：張三
- 📋 **預約類型**：複診
- 🏷️ **狀態**：已預約/已完成/已取消

### 🖱️ 拖曳改期功能

#### 視覺提示
- 卡片左邊有 **≡ 拖曳圖示**
- 滑鼠懸停：🖐️ 抓取手指光標
- 拖曳中：✊ 正在抓取光標
- 目標區域：背景變亮 + 藍色邊框

#### 使用步驟
1. 找到要改期的預約卡片
2. 按住滑鼠左鍵（會看到透明效果）
3. 拖到目標日期的單元格
4. 釋放滑鼠 ✅ 自動保存！

---

## 🎬 使用範例

### 例子 1：患者臨時改期
```
原預約：11月15日 14:30 - 初診
新預約：11月18日 14:30 - 初診（通過拖曳完成）
```

### 例子 2：檢查某日所有預約
```
日期卡片顯示「4個預約」
→ 點擊日期查看詳細列表
→ 或在卡片內捲動查看所有預約
```

---

## 🎨 顏色說明

| 狀態 | 顏色 | 用途 |
|:---:|:---:|:---:|
| 已預約 | 🔵 藍色 | 待執行 |
| 已完成 | 🟢 綠色 | 已完成 |
| 已取消 | 🔴 紅色 | 已取消 |

---

## ⚙️ 技術細節

### 使用的技術棧
```
HTML5 Drag & Drop API + React + date-fns
```

### 檔案位置
```
/src/components/CustomCalendar.tsx
```

### 關鍵改進
1. ✅ 拖曳時自動更新資料庫
2. ✅ 支援暗黑模式
3. ✅ 錯誤自動處理
4. ✅ 響應式設計

---

## 🐛 常見問題

### Q1：為什麼拖曳沒有反應？
**A**：確認以下幾點：
- 卡片上有 **≡ 圖示**
- 瀏覽器支援 HTML5 拖曳（所有現代瀏覽器都支援）
- 檢查開發者工具控制台是否有錯誤

### Q2：拖曳到相同日期會怎樣？
**A**：系統會自動判斷，如果日期相同就不會觸發更新，避免不必要的保存。

### Q3：可以一次拖曳多個預約嗎？
**A**：目前版本支援單個拖曳，多個拖曳功能將在未來版本中加入。

### Q4：拖曳失敗怎麼辦？
**A**：
- 檢查網路連線
- 查看瀏覽器控制台錯誤
- 重新整理頁面重試

---

## 📊 性能提升

| 項目 | 改進 |
|:---:|:---:|
| 可見預約 | 3個 → 全部（捲動查看） |
| 改期速度 | 2步 → 1步（拖曳直接完成） |
| 日期單元高度 | 140px → 200px |
| 視覺反饋 | 低 → 高（多種光標和色彩提示） |

---

## 🚀 未來計畫

- [ ] 雙點擊快速編輯
- [ ] 拖曳預覽動畫
- [ ] 批量拖曳選擇
- [ ] Ctrl+Z 撤銷功能
- [ ] 拖曳到不同時間槽
- [ ] 週視圖 / 月視圖切換

---

## 📝 版本信息

**功能版本**：1.0  
**發佈日期**：2025年11月10日  
**相容性**：Chrome、Firefox、Safari、Edge（所有現代瀏覽器）  

---

## 💡 提示

💬 **好用的話，歡迎反饋功能建議！**

- 遇到問題？ → 檢查[常見問題](#常見問題)或查看開發者工具
- 想要新功能？ → 將建議記錄在系統中
- 發現bug？ → 請附帶瀏覽器版本號回報

---

**祝您使用愉快！** 🎉
