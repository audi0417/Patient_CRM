# ====================================
# Patient CRM - 環境變量配置示例
# ====================================

# 伺服器配置
NODE_ENV=production

# 後端伺服器端口（預設 3001）
PORT=3001

# 前端開發伺服器端口（預設 8080）
VITE_PORT=8080

# ====================================
# 部署模式配置
# ====================================
# 部署模式：saas (多租戶雲端) 或 on-premise (地端部署)
DEPLOYMENT_MODE=saas

# 應用程式版本（自動從 package.json 讀取，或手動指定）
# APP_VERSION=1.0.0

# ====================================
# License 配置 (僅限 on-premise 模式)
# ====================================
# 地端部署 License Key（向供應商取得）
# LICENSE_KEY=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...

# License 公鑰路徑（相對於專案根目錄）
# LICENSE_PUBLIC_KEY_PATH=config/license-public.pem

# ====================================
# 資料庫配置
# ====================================
# 本地開發使用 SQLite
DATABASE_TYPE=sqlite
DATABASE_PATH=data/patient_crm.db

# ====================================
# PostgreSQL 配置 (Zeabur 雲端部署)
# ====================================
# 部署到 Zeabur 時，取消註解以下配置並使用 PostgreSQL
# DATABASE_TYPE=postgres
#
# 方式 1: 使用 DATABASE_URL (推薦，Zeabur 會自動注入)
# DATABASE_URL=postgresql://user:password@host:port/database
#
# 方式 2: 分開配置
# DATABASE_HOST=localhost
# DATABASE_PORT=5432
# DATABASE_USER=postgres
# DATABASE_PASSWORD=password
# DATABASE_NAME=patient_crm

# ====================================
# 認證配置
# ====================================
# ⚠️ 必須設置 - 系統啟動前必須生成安全的 JWT Secret
# 生成方式: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_MIN_32_CHARS
JWT_EXPIRY=24h

# 超級管理員密碼（首次啟動時使用）
# ⚠️ 重要：部署後請立即登入並修改密碼！
SUPER_ADMIN_PASSWORD=SuperAdmin@2024

# 加密金鑰（用於加密 Line Channel Secret 等敏感資料）
# ⚠️ 必須設置 - 至少 32 個字元的隨機字串
# 生成方式: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_MIN_32_CHARS_FOR_AES256

# ====================================
# 安全配置
# ====================================
# CORS 允許的來源（逗號分隔）
# 生產環境請設置實際域名
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# ====================================
# API 配置
# ====================================
# 前端 API 地址（留空則使用相對路徑 /api，開發環境會自動代理）
# 生產環境如需指定完整地址，請填寫：https://your-api-domain.com
VITE_API_URL=

# 後端伺服器完整地址（內部使用）
API_ENDPOINT=http://localhost:3001

# 前端應用完整地址（內部使用，如回調 URL）
CLIENT_URL=http://localhost:8080

# ====================================
# 日誌配置
# ====================================
LOG_LEVEL=info

# ====================================
# 第三方服務 (可選)
# ====================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_FROM=noreply@patient-crm.com

# ====================================
# 特定功能開關
# ====================================
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_BACKUP=true
