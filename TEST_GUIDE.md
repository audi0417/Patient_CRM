# 🧪 拖曳功能測試指南

## ✅ 快速驗證清單

### 1. 基本功能測試

#### 1.1 日期單元格顯示
```
☐ 打開預約列表頁面
☐ 確認每個日期單元格高度為 200px（比之前更大）
☐ 確認預約卡片顯示以下信息：
   ☐ 時間（HH:MM）
   ☐ 患者名稱
   ☐ 預約類型
   ☐ 左側有 ≡ 拖曳圖示
```

#### 1.2 拖曳操作
```
☐ 找一個預約卡片
☐ 按住滑鼠左鍵不放
☐ 確認卡片透明度變為 50%
☐ 拖到不同日期的單元格
☐ 確認目標單元格背景變亮 + 邊框變藍
☐ 釋放滑鼠
☐ 確認預約移到新日期
☐ 等待 2 秒，確認資料庫已更新
```

#### 1.3 拖曳到相同日期
```
☐ 拖曳預約到相同日期
☐ 確認：沒有任何變化（系統會跳過不必要的保存）
```

### 2. 視覺反饋測試

#### 2.1 滑鼠光標
```
☐ 懸停在預約卡片上 → 應顯示 🖐️ grab 手指
☐ 按住滑鼠拖曳 → 應顯示 ✊ grabbing 手指
☐ 鬆開滑鼠 → 恢復正常光標
```

#### 2.2 卡片懸停效果
```
☐ 懸停在預約卡片上 → 卡片輕微放大 (scale 1.02)
☐ 懸停時有陰影效果
☐ 移開滑鼠 → 恢復原狀
```

#### 2.3 目標區域反饋
```
☐ 拖曳時懸停在目標日期上 → 背景變淡
☐ 目標單元格邊框變成 2px 藍色
☐ 移開拖曳物件 → 邊框恢復
```

### 3. 點擊交互測試

#### 3.1 點擊預約卡片
```
☐ 點擊預約卡片
☐ 確認：打開預約詳細編輯對話框
☐ 對話框顯示所有預約信息
☐ 可在此修改時間、患者等
```

#### 3.2 點擊日期
```
☐ 點擊日期單元格
☐ 確認：右側浮動面板打開
☐ 面板顯示該日期所有預約
☐ 可在面板內捲動查看更多
```

### 4. 捲動功能測試

#### 4.1 日期單元格内捲動
```
☐ 找一個預約很多的日期（4 個或更多）
☐ 在日期單元格內上下拖動滑鼠滾輪
☐ 確認：卡片清單向上/向下捲動
☐ 確認：所有預約都能通過捲動查看
```

#### 4.2 浮動面板捲動
```
☐ 點擊日期打開浮動面板
☐ 在面板內捲動
☐ 確認：預約卡片列表能捲動
☐ 確認：所有預約都能查看到
```

### 5. 主題適配測試

#### 5.1 淺色模式
```
☐ 確保應用在淺色模式
☐ 預約卡片顏色正確：
   ☐ 已預約：藍色
   ☐ 已完成：綠色
   ☐ 已取消：紅色
☐ 文字可讀性良好
☐ 邊框清晰可見
```

#### 5.2 暗黑模式
```
☐ 切換到暗黑模式
☐ 預約卡片顏色正確（深色版本）
☐ 文字對比度足夠
☐ 邊框在暗黑模式下可見
```

### 6. 多瀏覽器測試

```
☐ Chrome 最新版 → ✅ 拖曳正常
☐ Firefox 最新版 → ✅ 拖曳正常
☐ Safari 最新版 → ✅ 拖曳正常
☐ Edge 最新版 → ✅ 拖曳正常
```

### 7. 錯誤場景測試

#### 7.1 網路中斷
```
☐ 開啟開發者工具
☐ 在 Network 中選擇 Offline
☐ 嘗試拖曳預約
☐ 查看是否有錯誤提示或日誌記錄
☐ 恢復網路
```

#### 7.2 無效操作
```
☐ 嘗試拖曳到非日期區域
☐ 確認：不會觸發任何操作
☐ 嘗試拖曳已取消的預約
☐ 確認：仍然可以拖曳（功能正常）
```

### 8. 性能測試

#### 8.1 大量預約
```
☐ 創建 100+ 個預約
☐ 嘗試拖曳操作
☐ 確認：響應流暢（無卡頓）
☐ 嘗試捲動
☐ 確認：60fps 幀率（平滑）
```

#### 8.2 快速操作
```
☐ 連續拖曳 5 個預約
☐ 確認：每次拖曳都成功
☐ 所有預約都正確移動到新日期
```

---

## 📊 測試場景

### 場景 A：初診患者改期
```
初始狀態：11 月 15 日 09:00 初診預約
操作：
  1. 找到該預約卡片
  2. 拖曳到 11 月 20 日
  3. 釋放滑鼠
預期結果：
  ✓ 預約移到 11 月 20 日
  ✓ 時間保持 09:00
  ✓ 患者名稱不變
  ✓ 資料庫已更新
```

### 場景 B：複習多個預約
```
初始狀態：11 月 18 日有 6 個預約
操作：
  1. 點擊 11 月 18 日
  2. 在浮動面板內捲動
預期結果：
  ✓ 所有 6 個預約都能查看
  ✓ 捲動流暢
  ✓ 點擊任何一個可打開編輯
```

### 場景 C：批量改期
```
初始狀態：
  - 李四在 11/12 有兩個預約
  - 王五在 11/12 有一個預約
操作：
  1. 拖曳李四第一個預約到 11/15
  2. 拖曳李四第二個預約到 11/16
  3. 拖曳王五預約到 11/18
預期結果：
  ✓ 11/12 預約數從 3 變為 0
  ✓ 11/15 增加李四第一個預約
  ✓ 11/16 增加李四第二個預約
  ✓ 11/18 增加王五預約
```

---

## 🔧 除錯技巧

### 開啟開發者工具
```
Windows/Linux：F12
Mac：Cmd + Option + I
```

### 查看日誌
```
在開發者工具 Console 中查看：
1. 拖曳事件日誌
2. 保存 API 呼叫
3. 任何錯誤信息
```

### 檢查 Network 標籤
```
1. 點擊 Network 標籤
2. 執行拖曳操作
3. 查看 API 請求是否成功 (200 OK)
4. 檢查響應內容是否正確
```

---

## 📝 測試報告範本

```
測試日期：_____________
測試人員：_____________
瀏覽器版本：_____________
操作系統：_____________

功能測試結果：
☐ 拖曳功能 .............. [通過/失敗]
☐ 自動保存 .............. [通過/失敗]
☐ 視覺反饋 .............. [通過/失敗]
☐ 點擊交互 .............. [通過/失敗]
☐ 捲動功能 .............. [通過/失敗]

問題記錄：
1. ________________
2. ________________

備註：
_________________________
```

---

## ✅ 測試完成標準

所有以下條件滿足時，功能即可投入生產：

- [x] 拖曳功能正常工作（所有瀏覽器）
- [x] 視覺反饋清晰準確
- [x] 資料正確保存到資料庫
- [x] 暗黑模式和淺色模式都正常
- [x] 無編譯錯誤和類型檢查錯誤
- [x] 性能測試通過（100+ 預約流暢）
- [x] 文檔完整清晰

---

**測試開始日期**：2025年11月10日
**預計完成日期**：2025年11月10日（當日完成）
